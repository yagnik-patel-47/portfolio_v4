---
import RootLayout from '@/layouts/Root.astro'
import Nav from '@/components/Nav.astro'
import {
  appProjects,
  fullstackProjects,
  realWorldProjects,
  staticProjects,
} from '@/lib/projects-data'
import { Picture } from 'astro:assets'
import { cn } from '@/lib/utils'

const allProjects = [
  {
    label: 'Real World Works',
    projects: realWorldProjects,
  },
  {
    label: 'Fullstacks',
    projects: fullstackProjects,
  },
  {
    label: 'Web Apps (PWA)',
    projects: appProjects,
  },
  {
    label: 'Static Sites',
    projects: staticProjects,
  },
]
---

<RootLayout title="Projects">
  <Nav />
  <main class="px-8 md:px-20 lg:px-32 2xl:px-72 py-12 lg:py-20">
    {
      allProjects.map((projectCategory, index) => (
        <>
          <h1
            class={cn('text-3xl lg:text-4xl font-bold', index !== 0 && 'mt-20')}
          >
            {projectCategory.label}
          </h1>
          <div class="grid lg:grid-cols-2 gap-10 lg:gap-16 mt-10">
            {projectCategory.projects.map((project) => (
              <div class="space-y-2 project">
                <Picture
                  class="rounded-lg"
                  width={750}
                  height={500}
                  src={project.image}
                  alt={project.name}
                  formats={['avif']}
                  loading="eager"
                />
                <div class="flex justify-between items-center pt-2 px-1 md:px-4">
                  <h2 class="text-xl md:text-2xl font-medium">
                    {project.name}
                  </h2>
                  <div class="flex space-x-4">
                    {project.links.repo && (
                      <a
                        aria-label="project repo link"
                        target="_blank"
                        href={project.links.repo}
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          class="size-5 md:size-6"
                        >
                          <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4" />
                          <path d="M9 18c-4.51 2-5-2-7-2" />
                        </svg>
                      </a>
                    )}
                    <a
                      aria-label="site link"
                      target="_blank"
                      href={project.links.site}
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="size-5 md:size-6"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"
                        />
                      </svg>
                    </a>
                  </div>
                </div>
                <p class="text-sm md:text-base px-1 md:px-4">
                  {project.discription}
                </p>
              </div>
            ))}
          </div>
        </>
      ))
    }
  </main>
</RootLayout>
